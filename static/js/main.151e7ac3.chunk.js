(this["webpackJsonprecipes-app-test"]=this["webpackJsonprecipes-app-test"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),o=a.n(r),i=a(9),l=a(5),s=a(3),m=a(8),u=a(107),d=a(104),p=a(12),b=a.n(p),f=a(17),E=function(e){return{type:"ADD_TOKEN_MEAL",payload:e}},v=function(e){return{type:"ADD_USER",payload:e}},g=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:1,1,a({type:"ADD_TOKEN_DRINK",payload:1}),a(E(1)),a(v(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};a(16),a(72);var h=function(){var e=Object(l.b)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(""),p=Object(m.a)(i,2),b=p[0],f=p[1],E=Object(n.useState)(!1),v=Object(m.a)(E,2),h=v[0],O=v[1],y=Object(l.c)((function(e){return e.login})),j=y.mealsToken,k=y.email,N=y.cocktailsToken;return Object(n.useEffect)((function(){""!==k&&(localStorage.setItem("mealsToken",j),localStorage.setItem("user",JSON.stringify({email:k})),localStorage.setItem("cocktailsToken",N),O(!0))}),[k]),h?c.a.createElement(s.a,{to:"/comidas"}):c.a.createElement("section",{className:"login"},c.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),e(g(r))}},c.a.createElement(u.a.Group,null,c.a.createElement(u.a.Label,null,"Email:"),c.a.createElement(u.a.Control,{"data-testid":"email-input",type:"text",value:r,onChange:function(e){var t=e.target;return o(t.value)},placeholder:"Email"})),c.a.createElement(u.a.Group,null,c.a.createElement(u.a.Label,null,"Senha:"),c.a.createElement(u.a.Control,{"data-testid":"password-input",type:"password",value:b,onChange:function(e){var t=e.target;return f(t.value)},placeholder:"Senha"})),c.a.createElement(d.a,{block:!0,className:"custom-btn","data-testid":"login-submit-btn",disabled:function(){var e=/.+@[A-z]+[.]com/.test(r);return!(b.length>6)||!e}(),type:"submit",variant:"primary"},"Entrar")))},O=a(106),y=a(108);a(77);function j(e){var t=e.type,a=e.index,n=e.recipe,r=e.recommendation;return c.a.createElement(y.a,{border:"dark",className:"card"},c.a.createElement(i.b,{to:"/".concat(t,"/").concat(n.id),"data-testid":"".concat(a,"-recipe-card")},c.a.createElement(y.a.Img,{className:"card-img","data-testid":"".concat(a,"-card-img"),src:n.image,alt:n.name}),c.a.createElement(y.a.Body,{className:"card-body"},r&&c.a.createElement(y.a.Text,null,"comidas"===t?n.category:n.alcoholicOrNot),c.a.createElement(y.a.Title,{className:"recipe-name","data-testid":"".concat(a,r?"-recomendation-title":"-card-name")},n.name))))}j.defaultProps={recommendation:!1};var k=j;var N=function(){return c.a.createElement("p",null,"Loading...")},x=a(6),S=function(e){return{type:"ADD_RECIPES",payload:e}},I=function(e){return{type:"ADD_FILTER",payload:e}},w=function(e,t){var a="comidas"===t?"Meal":"Drink",n=e.strArea,c=void 0===n?"":n,r=e.strCategory,o=void 0===r?"":r,i=e.strAlcoholic,l=void 0===i?"":i,s=e["str".concat(a)],m=e["str".concat(a,"Thumb")],u=e.strTags,d=u?u.split(","):[],p={id:e["id".concat(a)],area:c,category:o,alcoholicOrNot:l,name:s,image:m,type:t.slice(0,-1),tags:d};return Object(x.a)(Object(x.a)({},e),p)},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"comidas",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.request,c=void 0===n?"search":n,r=a.key,o=void 0===r?"s":r,i=a.parameter,l=void 0===i?"":i;return function(){var a=Object(f.a)(b.a.mark((function a(n){var r,i,s,m,u,d;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(I("filter"===c?l:"")),n({type:"REQUEST_RECIPES"}),r="comidas"===t?"meals":"drinks",s="https://www.".concat((i={comidas:"themealdb",bebidas:"thecocktaildb"})[t],".com/api/json/v1/").concat(e,"/").concat(c,".php?").concat(o,"=").concat(l),o||(s="https://www.".concat(i[t],".com/api/json/v1/").concat(e,"/").concat(c,".php")),a.prev=7,a.next=10,fetch(s);case 10:return m=a.sent,a.next=13,m.json();case 13:u=a.sent,d=u[r],n(S(d.map((function(e){return w(e,t)})))),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(7),n(S([]));case 21:case"end":return a.stop()}}),a,null,[[7,18]])})));return function(e){return a.apply(this,arguments)}}()},T=function(e){return{type:"ADD_CATEGORIES",payload:e}},C=function(e){return{type:"ADD_RECOMMENDATIONS",payload:e}},R=function(e,t){return{selectedType:e,type:"START_RECIPE",payload:t}},A=function(e){return{type:"ADD_BYINGREDIENT",payload:e}};var _=function(e){var t=e.name,a=e.type,n=Object(l.c)((function(e){return e.recipes.filter})),r=Object(l.b)(),o=Object(s.h)().pathname,i=Object(l.c)((function(e){return e.login})),m=i.mealsToken,u=i.cocktailsToken;return c.a.createElement(d.a,{className:"custom-btn","data-testid":"".concat(t,"-category-filter"),onClick:function(){return function(e){var t={request:"filter",key:"c",parameter:e},c="comidas"===o?m:u;r(n===e||"All"===e?D(c,a):D(c,a,t))}(t)},size:"sm",type:"button",variant:"primary"},t)},F=a(105),L=a(45),P=a(46),B=a.n(P),J=function(){var e=Object(s.g)();return c.a.createElement("img",{role:"presentation","data-testid":"profile-top-btn",src:B.a,alt:"profile-btn",onClick:function(){return e.push("/perfil")}})},M=(a(78),function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),p=i[0],b=i[1],f=Object(n.useState)(!1),E=Object(m.a)(f,2),v=E[0],g=E[1],h=Object(l.b)(),y=Object(s.h)().pathname,j=Object(l.c)((function(e){return e.login})),k=j.mealsToken,N=j.cocktailsToken;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{className:"search-bar"},c.a.createElement(u.a.Label,null,"Campo de busca:"),c.a.createElement(u.a.Control,{type:"text","data-testid":"search-input",value:p,onChange:function(e){return b(e.target.value)}}),c.a.createElement(u.a.Check,{"data-testid":"ingredient-search-radio",inline:!0,label:"Ingrediente",name:"filter",onClick:function(e){return r(e.target.value)},type:"radio",value:"i"}),c.a.createElement(u.a.Check,{"data-testid":"name-search-radio",inline:!0,label:"Nome",name:"filter",onClick:function(e){return r(e.target.value)},type:"radio",value:"s"}),c.a.createElement(u.a.Check,{"data-testid":"first-letter-search-radio",inline:!0,label:"Primeira letra",name:"filter",onClick:function(e){return r(e.target.value)},type:"radio",value:"f"}),c.a.createElement(d.a,{block:!0,className:"search-bar-btn","data-testid":"exec-search-btn",onClick:function(e){!function(e){if(e.preventDefault(),g(!1),"f"===a&&p.length>1)return alert("Sua busca deve conter somente 1 (um) caracter"),void g(!0);var t="comidas"===y?k:N;"i"!==a?(h(D(t,y.slice(1),{key:a,parameter:p})),b("")):h(D(t,y.slice(1),{request:"filter",key:a,parameter:p}))}(e)},variant:"primary"},"Buscar")),v?c.a.createElement(O.a,{style:{marginTop:"20px"},variant:"danger"},Date.now()%2===0?c.a.createElement(O.a.Heading,null,"Uai..."):c.a.createElement(O.a.Heading,null,"Oxi..."),c.a.createElement("p",null,"O campo de busca de conter apenas a letra inicial")):"")}),z=a(49),q=a.n(z),U=(a(79),function(){var e=Object(s.h)().pathname,t=Object(n.useRef)((function(){})),a=Object(n.useState)("Explorar"),r=Object(m.a)(a,2),o=r[0],i=r[1],l=Object(n.useState)(!1),u=Object(m.a)(l,2),d=u[0],p=u[1],b=Object(n.useState)(!1),f=Object(m.a)(b,2),E=f[0],v=f[1];return t.current=function(){switch(e){case"/bebidas":return i("Bebidas"),void p(!0);case"/comidas":return i("Comidas"),void p(!0);case"/explorar":return void i("Explorar");case"/explorar/comidas":return void i("Explorar Comidas");case"/explorar/bebidas":return void i("Explorar Bebidas");case"/explorar/comidas/ingredientes":return void i("Explorar Ingredientes");case"/explorar/bebidas/ingredientes":return i("Explorar Ingredientes"),void p(!1);case"/explorar/comidas/area":return i("Explorar Origem"),void p(!0);case"/perfil":return void i("Perfil");case"/receitas-feitas":return void i("Receitas Feitas");case"/receitas-favoritas":i("Receitas Favoritas")}},Object(n.useEffect)((function(){t.current()}),[e]),c.a.createElement("header",null,c.a.createElement(F.a,{className:"header"},c.a.createElement(L.a,null,c.a.createElement(J,null)),c.a.createElement(L.a,null,c.a.createElement("h1",{"data-testid":"page-title"},o)),c.a.createElement(L.a,null,d&&c.a.createElement("img",{role:"presentation","data-testid":"search-top-btn",src:q.a,alt:"search-btn",onClick:function(){return v(!E)}}))),E&&c.a.createElement(M,null))}),W=a(50),G=a.n(W),H=a(51),K=a.n(H),V=a(52),Y=a.n(V);a(80);var Q=function(){return c.a.createElement("footer",{className:"footer-container","data-testid":"footer"},c.a.createElement(F.a,{className:"footer"},c.a.createElement(L.a,null,c.a.createElement(i.b,{to:"/bebidas"},c.a.createElement("img",{src:G.a,alt:"drinks icon","data-testid":"drinks-bottom-btn"}))),c.a.createElement(L.a,null,c.a.createElement(i.b,{to:"/explorar"},c.a.createElement("img",{src:K.a,alt:"explore icon","data-testid":"explore-bottom-btn"}))),c.a.createElement(L.a,null,c.a.createElement(i.b,{to:"/comidas"},c.a.createElement("img",{src:Y.a,alt:"meals icon","data-testid":"food-bottom-btn"})))))};a(81);var $=function(e){var t=e.location.pathname,a=Object(l.c)((function(e){return e.recipes})),r=a.list,o=a.isFetching,i=a.categories,m=a.byIngredient,u=a.filter,d=Object(l.b)(),p=Object(s.g)(),E=t.slice(1),v=Object(l.c)((function(e){return e.login})),g=v.mealsToken,h=v.cocktailsToken;return Object(n.useEffect)((function(){var e={request:"filter",key:"i",parameter:m},a="comidas"===t?g:h;d(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"comidas";return function(){var a=Object(f.a)(b.a.mark((function a(n){var c,r,o,i,l,s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={comidas:"https://www.themealdb.com/api/json/v1/".concat(e,"/list.php?c=list"),bebidas:"https://www.thecocktaildb.com/api/json/v1/".concat(e,"/list.php?c=list")},a.next=3,fetch(c[t]);case 3:return r=a.sent,o="comidas"===t?"meals":"drinks",a.next=7,r.json();case 7:i=a.sent,l=i[o],5,s=l.slice(0,5).map((function(e){return e.strCategory})),n(T(s));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,E)),m?(d(D(a,E,e)),d(A(""))):d(D(a,E))}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("nav",{className:"nav-catogories"},i.map((function(e){return c.a.createElement(_,{name:e,key:"btn-".concat(e),type:E})})),c.a.createElement(_,{name:"All",type:E})),o?c.a.createElement(N,null):0===r.length?(alert("Sinto muito, n\xe3o encontramos nenhuma receita para esses filtros."),c.a.createElement(O.a,{style:{marginTop:"20px"},variant:"danger"},Date.now()%2===0?c.a.createElement(O.a.Heading,null,"Uai..."):c.a.createElement(O.a.Heading,null,"Oxi..."),c.a.createElement("p",null,"Redefina o campo de busca."))):1!==r.length||""!==u?c.a.createElement("section",{className:"cards-container"},r.map((function(e,t){return c.a.createElement("div",{className:"cards-main",key:"recipe-".concat(t)},c.a.createElement(k,{type:E,index:t,recipe:e}))}))):void p.push("".concat(t,"/").concat(r[0].id)),c.a.createElement(Q,null))};a(27);var X=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:"explore-button"},c.a.createElement(i.b,{"data-testid":"explore-food",to:"/explorar/comidas"},c.a.createElement(d.a,{className:"custom-btn-explore",block:!0,variant:"primary"},"Explorar Comidas")),c.a.createElement(i.b,{"data-testid":"explore-drinks",to:"/explorar/bebidas"},c.a.createElement(d.a,{className:"custom-btn-explore",block:!0,variant:"primary"},"Explorar Bebidas"))),c.a.createElement(Q,null))};var Z=function(e){var t=e.location.pathname,a=t.split("/")[2],r=Object(l.c)((function(e){return e.login})),o=r.mealsToken,u=r.cocktailsToken,p=Object(l.c)((function(e){return e.recipes})).list,b=Object(l.b)(),f=Object(n.useState)(""),E=Object(m.a)(f,2),v=E[0],g=E[1],h=Object(n.useRef)(p);return Object(n.useEffect)((function(){return p!==h.current&&g(p[0].id),function(){return g("")}}),[p]),c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:"explore-button"},c.a.createElement(i.b,{"data-testid":"explore-by-ingredient",to:"".concat(t,"/ingredientes")},c.a.createElement(d.a,{block:!0,className:"custom-btn-explore",variant:"primary"},"Por Ingredientes")),"comidas"===a&&c.a.createElement(i.b,{"data-testid":"explore-by-area",to:"".concat(t,"/area")},c.a.createElement(d.a,{block:!0,className:"custom-btn-explore",variant:"primary"},"Por Local de Origem")),c.a.createElement("div",{className:"surprise-me"},c.a.createElement(d.a,{block:!0,className:"custom-btn-explore","data-testid":"explore-surprise",onClick:function(){b(D("comidas"===a?o:u,a,{request:"random",key:""}))},type:"button",variant:"primary"},"Me Surpreenda!")),v&&c.a.createElement(s.a,{to:"../".concat(a,"/").concat(v)})),c.a.createElement(Q,null))};var ee=function(e){var t=e.location.pathname.split("/")[2],a=Object(l.c)((function(e){return e.login})),r=a.mealsToken,o=a.cocktailsToken,i=Object(l.c)((function(e){return e.recipes})),u=i.list,d=void 0===u?[]:u,p=i.isFetching,b=Object(l.b)(),f=Object(n.useState)(!1),E=Object(m.a)(f,2),v=E[0],g=E[1];Object(n.useEffect)((function(){b(D("comidas"===t?r:o,t,{request:"list",key:"i",parameter:"list"}))}),[]);var h=function(e){g(!0),b(A(e))};return p?c.a.createElement(N,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:"cards-container"},"comidas"===t?d.map((function(e,t){var a=e.idIngredient,n=e.strIngredient,r="https://www.themealdb.com/images/ingredients/".concat(n,"-Small.png");return c.a.createElement(y.a,{border:"dark",className:"card-explore",key:a},c.a.createElement("button",{"data-testid":"".concat(t,"-ingredient-card"),onClick:function(){return h(n)},type:"button"},c.a.createElement(y.a.Img,{alt:"ingredient ".concat(a),className:"ingredients-img","data-testid":"".concat(t,"-card-img"),src:r,variant:"top"}),c.a.createElement(y.a.Body,null,c.a.createElement(y.a.Title,{"data-testid":"".concat(t,"-card-name")},n))))})):d.map((function(e,t){var a=e.strIngredient1,n="https://www.thecocktaildb.com/images/ingredients/".concat(a,"-Small.png");return c.a.createElement(y.a,{border:"dark",className:"card-explore",key:a},c.a.createElement("button",{"data-testid":"".concat(t,"-ingredient-card"),onClick:function(){return h(a)},type:"button"},c.a.createElement(y.a.Img,{alt:"ingredient ".concat(a),className:"ingredients-img","data-testid":"".concat(t,"-card-img"),src:n,variant:"top"}),c.a.createElement(y.a.Body,null,c.a.createElement(y.a.Title,{"data-testid":"".concat(t,"-card-name")},a))))}))),v&&c.a.createElement(s.a,{to:"/".concat(t)}),c.a.createElement(Q,null))},te=a(18);var ae=function(){var e=Object(l.c)((function(e){return e.recipes})),t=e.list,a=void 0===t?[]:t,r=e.isFetching,o=e.areas,i=Object(l.c)((function(e){return e.login})).mealsToken,s=Object(l.b)(),d=Object(n.useState)(""),p=Object(m.a)(d,2),E=p[0],v=p[1];return Object(n.useEffect)((function(){var e;s((e=i,function(){var t=Object(f.a)(b.a.mark((function t(a){var n,c,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://www.themealdb.com/api/json/v1/".concat(e,"/list.php?a=list"),t.next=3,fetch(n);case 3:return c=t.sent,t.next=6,c.json();case 6:r=t.sent,a({type:"ADD_COUNTRIES",payload:r});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),s(D(i,"comidas"))}),[]),r||0===a.lenght?c.a.createElement(N,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement(u.a,{className:"form"},c.a.createElement(u.a.Group,{controlId:"select.countryForm"},c.a.createElement(u.a.Label,null,"Selecione o pa\xeds:"),c.a.createElement(u.a.Control,{as:"select",custom:!0,"data-testid":"explore-by-area-dropdown",onChange:function(e){var t=e.target;v(t.value);var a={request:"filter",key:"a",parameter:t.value};s(D(i,"comidas",a))},value:E},o&&[{strArea:"All"}].concat(Object(te.a)(o.meals)).map((function(e){var t=e.strArea;return c.a.createElement("option",{"data-testid":"".concat(t,"-option"),key:t,value:t},t)}))))),c.a.createElement("section",{className:"cards-container"},a&&a.map((function(e,t){return c.a.createElement("div",{className:"card-explore",key:"recipe-".concat(t)},c.a.createElement(k,{type:"comidas",index:t,recipe:e}))}))),c.a.createElement(Q,null))},ne=a(53),ce=a.n(ne),re=a(21);var oe=function(e){var t=e.type,a=e.id,r=e.ingredients,o=Object(l.c)((function(e){return e.recipes.start})),i="in-progress"===Object(s.h)().pathname.split("/")[3],d=Object(l.b)(),p=Object(n.useState)(o[t][a]||[]),b=Object(m.a)(p,2),f=b[0],E=b[1];return Object(n.useEffect)((function(){var e=o.bebidas,t=o.comidas;localStorage.setItem("inProgressRecipes",JSON.stringify({cocktails:e,meals:t}))}),[o]),Object(n.useEffect)((function(){i&&d(R(t,Object(re.a)({},a,f)))}),[f]),i?c.a.createElement(u.a,null,r.map((function(e,t){return c.a.createElement(u.a.Check,{key:"ing-".concat(t),type:"checkbox"},c.a.createElement("label",{"data-testid":"".concat(t,"-ingredient-step"),htmlFor:[e[0]]},c.a.createElement(u.a.Check.Input,{checked:f.includes(t),id:[e[0]],onClick:function(){return function(e){f.includes(e)?E(Object(te.a)(f).filter((function(t){return t!==e}))):E([].concat(Object(te.a)(f),[e]))}(t)},type:"checkbox",value:[e[0]]}),c.a.createElement(u.a.Check.Label,null,"".concat([e[0]]," - ").concat([e[1]]))))}))):c.a.createElement("ul",null,r.map((function(e,t){return c.a.createElement("li",{key:"ing-".concat(t),"data-testid":"".concat(t,"-ingredient-name-and-measure")},"".concat([e[0]]," - ").concat([e[1]]))})))};a(94);var ie=function(e){var t=e.type,a=e.id,r=e.ingredientsLength,o=Object(s.h)().pathname,i=Object(s.g)(),m="in-progress"===o.split("/")[3],u=Object(l.c)((function(e){return e.recipes})),p=u.done,b=u.start,f=u.list,E=Object(n.useRef)(p),v=Object(l.b)();return Object(n.useEffect)((function(){E.current.length!==p.length&&(localStorage.setItem("doneRecipes",JSON.stringify(p)),i.push("/receitas-feitas"))}),[p]),p.some((function(e){var n=e.id,c=e.type;return a===n&&t.startsWith(c)}))||c.a.createElement(d.a,{className:"start","data-testid":m?"finish-recipe-btn":"start-recipe-btn",type:"button",onClick:function(){m?v({type:"END_RECIPE",payload:f[0]}):(Object.keys(b[t]).includes(a)||v(R(t,Object(re.a)({},a,[]))),i.push("".concat(o,"/in-progress")))},disabled:m&&(b[t][a]||[]).length!==r,block:!0},m?"Finalizar Receita":Object.keys(b[t]).includes(a)?"Continuar Receita":"Iniciar Receita")},le=a(54),se=a.n(le),me=a(55),ue=a.n(me);var de=function(e){var t=e.recipe,a=e.index,r=Object(l.c)((function(e){return e.recipes.favorite})),o=Object(l.b)();return Object(n.useEffect)((function(){localStorage.setItem("favoriteRecipes",JSON.stringify(r))}),[r]),c.a.createElement("button",{type:"button",onClick:function(){var e=r.find((function(e){var a=e.id,n=e.type;return t.id===a&&n===t.type})),a={id:t.id,area:t.area,category:t.category,alcoholicOrNot:t.alcoholicOrNot,name:t.name,image:t.image,type:t.type};o(e?{type:"RM_FAVORITE",payload:a}:function(e){return{type:"ADD_FAVORITE",payload:e}}(a))}},c.a.createElement("img",{alt:"favorite","data-testid":void 0!==a?"".concat(a,"-horizontal-favorite-btn"):"favorite-btn",src:r.some((function(e){var a=e.id,n=e.type;return t.id===a&&n===t.type}))?ue.a:se.a,style:{width:"6vw"}}))},pe=a(56),be=a.n(pe),fe=a(57),Ee=a.n(fe);var ve=function(e){var t=e.type,a=e.id,r=e.index,o=Object(n.useState)(!1),i=Object(m.a)(o,2),l=i[0],s=i[1],u=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be()("http://localhost:3000/".concat(t,"/").concat(a));case 2:s(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("button",{onClick:u,type:"button"},c.a.createElement("img",{alt:"share","data-testid":void 0!==r?"".concat(r,"-horizontal-share-btn"):"share-btn",src:Ee.a,style:{width:"6vw"}})),l&&"Link copiado!")};a(95),a(96);var ge=function(e){var t=e.match.params,a=e.location.pathname,r=Object(l.c)((function(e){return e.recipes})),o=r.list,i=r.isFetching,s=r.recommendations,u=Object(l.c)((function(e){return e.login})),d=u.mealsToken,p=u.cocktailsToken,E=Object(l.b)(),v=Object(n.useState)(!0),g=Object(m.a)(v,2),h=g[0],O=g[1],y="in-progress"===a.split("/")[3],j=Object(n.useRef)(a.split("/")[1]),x=Object(n.useRef)("comidas"===j.current?"bebidas":"comidas");Object(n.useEffect)((function(){var e="/comidas"===a?d:p;O(!0);var n=a.split("/").slice(1),c=Object(m.a)(n,1);j.current=c[0],x.current="comidas"===j.current?"bebidas":"comidas",E(D(e,j.current,{request:"lookup",key:"i",parameter:t.id})),E(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"comidas";return function(){var a=Object(f.a)(b.a.mark((function a(n){var c,r,o,i,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="https://www.".concat({comidas:"themealdb",bebidas:"thecocktaildb"}[t],".com/api/json/v1/").concat(e,"/search.php?s="),a.next=4,fetch(c);case 4:return r=a.sent,o="comidas"===t?"meals":"drinks",a.next=8,r.json();case 8:i=a.sent,l=i[o],n(C(l.map((function(e){return w(e,t)}))));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,x.current)),O(!1)}),[t,a]);var S=o[0],I=Object.keys(S||{}).filter((function(e){return e.startsWith("strIngredient")&&""!==S[e]&&null!==S[e]})).map((function(e,t){return[S[e],S["strMeasure".concat(t+1)]]}));return i||h||!S?c.a.createElement(N,null):c.a.createElement("section",null,c.a.createElement("img",{className:"recipe-photo","data-testid":"recipe-photo",src:S.image,alt:S.name}),c.a.createElement("header",{className:"header-details"},c.a.createElement("h1",{"data-testid":"recipe-title"},S.name),c.a.createElement("div",null,c.a.createElement(ve,{type:j.current,id:t.id}),c.a.createElement(de,{recipe:S}))),c.a.createElement("h2",{className:"header-title ","data-testid":"recipe-category"},"".concat(S.alcoholicOrNot," ").concat(S.category)),c.a.createElement("section",{className:"section-recipe"},c.a.createElement(oe,{id:t.id,type:j.current,ingredients:I})),c.a.createElement("section",{className:"section-recipe"},c.a.createElement("p",{"data-testid":"instructions"},S.strInstructions)),S.strYoutube&&c.a.createElement("iframe",{src:S.strYoutube.split("watch?v=").join("embed/"),title:"Video","data-testid":"video"}),!y&&c.a.createElement(ce.a,{className:"carousel",responsive:{tablet:{breakpoint:{max:1024,min:464},items:4},mobile:{breakpoint:{max:464,min:0},items:2}}},s.map((function(e,t){return c.a.createElement("div",{className:"cards-recommendations","data-testid":"".concat(t,"-recomendation-card"),key:"rec-".concat(t)},c.a.createElement(k,{index:t,recipe:e,recommendation:!0,type:x.current}))}))),c.a.createElement(ie,{id:t.id,type:j.current,ingredientsLength:I.length}))};a(97);var he=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(s.g)();return Object(n.useEffect)((function(){r(JSON.parse(localStorage.getItem("user")||"{}"))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("h4",{className:"email","data-testid":"profile-email"},a.email),c.a.createElement("section",{className:"profile-container"},c.a.createElement(d.a,{block:!0,className:"custom-btn-profile","data-testid":"profile-done-btn",onClick:function(){o.push("/receitas-feitas")},to:"/receitas-feitas",type:"button"},"Receitas Feitas"),c.a.createElement(d.a,{block:!0,className:"custom-btn-profile","data-testid":"profile-favorite-btn",onClick:function(){o.push("/receitas-favoritas")},type:"button"},"Receitas Favoritas"),c.a.createElement(d.a,{block:!0,className:"custom-btn-profile","data-testid":"profile-logout-btn",onClick:function(){localStorage.clear(),o.push("/")},type:"button"},"Sair")),c.a.createElement(Q,null))};a(98);var Oe=function(e){var t=e.location.pathname,a=Object(l.c)((function(e){return e.recipes})),r=a.done,o=a.favorite,s=Object(n.useState)([]),u=Object(m.a)(s,2),p=u[0],b=u[1],f=Object(n.useState)(),E=Object(m.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)("todos"),O=Object(m.a)(h,2),y=O[0],j=O[1];return Object(n.useEffect)((function(){t.endsWith("feitas")?(b(r),g(!0)):(g(!1),b(o))}),[t,o]),c.a.createElement("div",null,c.a.createElement(U,null),c.a.createElement(d.a,{block:!0,className:"fav-done-btn custom-btn","data-testid":"filter-by-all-btn",onClick:function(){return j("todos")},type:"button"},"All"),c.a.createElement("nav",{className:"nav-catogories"},c.a.createElement(d.a,{className:"custom-btn","data-testid":"filter-by-food-btn",onClick:function(){return j("comida")},type:"button"},"Food"),c.a.createElement(d.a,{className:"custom-btn","data-testid":"filter-by-drink-btn",onClick:function(){return j("bebida")},type:"button"},"Drinks")),p.filter((function(e){return e.type===y||"todos"===y})).map((function(e,t){return c.a.createElement("div",{key:e.id},c.a.createElement("hr",null),console.log(e),c.a.createElement(i.b,{to:"/".concat(e.type,"s/").concat(e.id)},c.a.createElement("img",{alt:e.name,className:"fav-done-img","data-testid":"".concat(t,"-horizontal-image"),src:e.image}),c.a.createElement("h1",{className:"fav-done-title","data-testid":"".concat(t,"-horizontal-name")},e.name)),c.a.createElement("section",{className:"fav-done-body"},c.a.createElement("div",{className:"fav-done-info"},c.a.createElement("p",{"data-testid":"".concat(t,"-horizontal-top-text")},e.type.startsWith("comida")&&"".concat(e.area," - ").concat(e.category),e.type.startsWith("bebida")&&e.alcoholicOrNot),v&&c.a.createElement("p",{"data-testid":"".concat(t,"-horizontal-done-date")},e.doneDate),v&&e.tags.map((function(a,n){return c.a.createElement("p",{key:"".concat(e.id,"-tag-").concat(n),"data-testid":"".concat(t,"-").concat(a,"-horizontal-tag")},a)}))),c.a.createElement("div",{className:"icon-container"},c.a.createElement(ve,{id:e.id,index:t,type:"".concat(e.type,"s")}),c.a.createElement(de,{index:t,recipe:e,type:"".concat(e.type,"s")}))))})))};a(99);var ye=function(){return c.a.createElement("div",{className:"container-404"},c.a.createElement("h1",{className:"container-404-title"},"404"),c.a.createElement("h2",{className:"container-404-title"},"Not Found"))};a(100);var je=function(){return c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/bebidas/:id/in-progress",render:function(e){return c.a.createElement(ge,e)}}),c.a.createElement(s.b,{path:"/comidas/:id/in-progress",render:function(e){return c.a.createElement(ge,e)}}),c.a.createElement(s.b,{path:"/bebidas/:id",render:function(e){return c.a.createElement(ge,e)}}),c.a.createElement(s.b,{path:"/comidas/:id",render:function(e){return c.a.createElement(ge,e)}}),c.a.createElement(s.b,{path:"/explorar/comidas/ingredientes",component:ee}),c.a.createElement(s.b,{path:"/explorar/bebidas/ingredientes",component:ee}),c.a.createElement(s.b,{path:"/explorar/comidas/area",component:ae}),c.a.createElement(s.b,{path:"/explorar/comidas",component:Z}),c.a.createElement(s.b,{exact:!0,path:"/explorar/bebidas",component:Z}),c.a.createElement(s.b,{path:"/receitas-feitas",component:Oe}),c.a.createElement(s.b,{path:"/receitas-favoritas",component:Oe}),c.a.createElement(s.b,{exact:!0,path:"/explorar",component:X}),c.a.createElement(s.b,{path:"/bebidas",component:$}),c.a.createElement(s.b,{path:"/comidas",component:$}),c.a.createElement(s.b,{path:"/perfil",component:he}),c.a.createElement(s.b,{exact:!0,path:"/",component:h}),c.a.createElement(s.b,{path:"*",component:ye}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=a(20),Ne=a(58),xe=a(59),Se={mealsToken:JSON.parse(localStorage.getItem("mealsToken")||"1"),cocktailsToken:JSON.parse(localStorage.getItem("cocktailsToken")||"1"),email:""},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOKEN_MEAL":return Object(x.a)(Object(x.a)({},e),{},{mealsToken:t.payload});case"ADD_TOKEN_DRINK":return Object(x.a)(Object(x.a)({},e),{},{cocktailsToken:t.payload});case"ADD_USER":return Object(x.a)(Object(x.a)({},e),{},{email:t.payload});default:return e}},we=JSON.parse(localStorage.getItem("inProgressRecipes")||"{}"),De=JSON.parse(localStorage.getItem("favoriteRecipes")||"[]"),Te=JSON.parse(localStorage.getItem("doneRecipes")||"[]"),Ce={list:[],isFetching:!0,categories:[],filter:"",recommendations:[],start:{comidas:we.meals||{},bebidas:we.cocktails||{}},done:Te,favorite:De,byIngredient:"",areas:{meals:[]}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=new Date;switch(t.type){case"REQUEST_RECIPES":return Object(x.a)(Object(x.a)({},e),{},{isFetching:!0});case"ADD_RECIPES":return Object(x.a)(Object(x.a)({},e),{},{isFetching:!1,list:t.payload.slice(0,12)});case"ADD_CATEGORIES":return Object(x.a)(Object(x.a)({},e),{},{categories:t.payload});case"ADD_FILTER":return Object(x.a)(Object(x.a)({},e),{},{filter:t.payload});case"ADD_RECOMMENDATIONS":return Object(x.a)(Object(x.a)({},e),{},{recommendations:t.payload.slice(0,6)});case"START_RECIPE":return Object(x.a)(Object(x.a)({},e),{},{start:Object(x.a)(Object(x.a)({},e.start),{},Object(re.a)({},t.selectedType,Object(x.a)(Object(x.a)({},e.start[t.selectedType]),t.payload)))});case"END_RECIPE":return Object(x.a)(Object(x.a)({},e),{},{done:[].concat(Object(te.a)(e.done),[Object(x.a)(Object(x.a)({},t.payload),{},{doneDate:a.toLocaleDateString("pt-Br")})])});case"ADD_FAVORITE":return Object(x.a)(Object(x.a)({},e),{},{favorite:[].concat(Object(te.a)(e.favorite),[t.payload])});case"RM_FAVORITE":return Object(x.a)(Object(x.a)({},e),{},{favorite:Object(te.a)(e.favorite.filter((function(e){var a=e.id,n=e.type;return a!==t.payload.id||n!==t.payload.type})))});case"ADD_BYINGREDIENT":return Object(x.a)(Object(x.a)({},e),{},{byIngredient:t.payload});case"ADD_COUNTRIES":return Object(x.a)(Object(x.a)({},e),{},{areas:t.payload});default:return e}},Ae=Object(ke.combineReducers)({login:Ie,recipes:Re}),_e=Object(ke.createStore)(Ae,Object(Ne.composeWithDevTools)(Object(ke.applyMiddleware)(xe.a)));a(101);o.a.render(c.a.createElement(i.a,null,c.a.createElement(l.a,{store:_e},c.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/profileIcon.74e487e5.svg"},49:function(e,t,a){e.exports=a.p+"static/media/searchIcon.db812135.svg"},50:function(e,t,a){e.exports=a.p+"static/media/drinkIcon.f87c47c3.svg"},51:function(e,t,a){e.exports=a.p+"static/media/exploreIcon.157945ff.svg"},52:function(e,t,a){e.exports=a.p+"static/media/mealIcon.b27ba19e.svg"},54:function(e,t,a){e.exports=a.p+"static/media/whiteHeartIcon.ea3b6ba8.svg"},55:function(e,t,a){e.exports=a.p+"static/media/blackHeartIcon.b8913346.svg"},57:function(e,t,a){e.exports=a.p+"static/media/shareIcon.06215ed4.svg"},60:function(e,t,a){e.exports=a(102)},72:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.151e7ac3.chunk.js.map